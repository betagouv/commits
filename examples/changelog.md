# demarches-simplifiees/demarches-simplifiees.fr 

Du 01/01/2025 au 29/01/2025: La période a été marquée par des améliorations et corrections dans les aspects frontend, backend, sécurité, maintenance et documentation. Les développeurs ont travaillé sur l'alignement des badges, la responsivité des listes de procédures, le calcul du digest SHA256 pour le référentiel CSV, la gestion des dossiers terminés, et l'ajout de nouvelles fonctionnalités comme l'exportation des dossiers avec les valeurs du référentiel. De plus, plusieurs bugs ont été corrigés, notamment dans l'affichage du PDF et la validation des tâches de maintenance.

## Features

- Ajout de la gestion du référentiel dans l'affichage des champs de liste déroulante sur la page de demande
- Ajout d'une fonctionnalité pour afficher un formulaire à l'utilisateur dans une liste déroulante personnalisée
- Ajout d'un contrôleur JavaScript pour afficher le type manuel ou référentiel d'une liste
- Ajout d'une fonctionnalité qui ordonne les étiquettes en fonction de leur position

## Corrections

- Correction d'erreur pour éviter la crash si le champ attachement est déjà détruit
- Corrige l'affichage du PDF pour éviter la présence du champ 'Date de naissance' si la procédure ne le demande pas
- Correction des tests de performance en augmentant les limites d'expectation pour le nombre de requêtes SQL

## Derniers commits

 - 05/02/2025 : par Lisa Durand (frontend, accessibility): [Amélioration de l'alignement des badges dans le dossier](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/be72dec22c640966dae1208d8ecd8b6d124c5855)
 - 04/02/2025 : par Lisa Durand (api, backend): [Cette commit stabilise l'API en utilisant les clés de traduction pour les états des démarches.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/c26e287987e970047da09cfb0c99aea9829800a1)
 - 29/01/2025 : par Lisa Durand (frontend, responsive): [Correction de la responsivité des listes de procédures](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/d59eefd5b8a3d1c5a2ce68835f994e26b8f872a3)
 - 20/01/2025 : par Lisa Durand (frontend, accessibility): [Suppression de l'encadrement autour du bouton de menu dans une liste de procédures.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/f443a31666b698beb39069ed3813dd3e9157dea2)
 - 16/01/2025 : par Lisa Durand (frontend, accessibility): [Amélioration de l'affichage des badges pour les instructeurs dans la procedure_show.scss et dossiers_navigation_component.html.haml.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/512fa0d301d0e48197684bd061472a0f779fdc45)
 - 03/02/2025 : par Eric Leroy-Terquem (feature, backend): [Ajout d'une méthode pour limiter le nombre maximal de lignes du référentiel à 1000 dans un composant Ruby.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/84148e056905a15c4f56792810c72af466e01daa)
 - 29/01/2025 : par Lisa Durand (backend, security): [Amélioration du validateur pour le champ déroulant en termes de performance et d'affichage des messages d'erreur.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/a9e73fc1f200a50aa88f557fe3e9d4a51c5172e3)
 - 22/01/2025 : par Eric Leroy-Terquem (feature, backend): [Ajout du calcul et de l'enregistrement d'un digest SHA256 dans le fichier csv_referentiel lors de la création d'un référentiel.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/22894d808472b1fb8c8e20aa67d99549ee1d9de7)
 - 21/01/2025 : par Eric Leroy-Terquem (database): [Ajout d'une colonne digest dans la table referentiels](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/9e546b9d4cf52d0e328ae41deeab7d6cf7b7e135)
 - 21/01/2025 : par Eric Leroy-Terquem (backend, refactoring): [Refactorisation des options de liste déroulante pour utiliser la même méthode selon le mode du champ (référentiel ou manuel).](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/c43a4ab074e3043e8518bce146028170747da3be)
 - 09/01/2025 : par Eric Leroy-Terquem (backend, maintenance): [Création de records CsvReferentiel dans le contrôleur Administrateurs](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/db8bddbc6e9617ce9305e9d1d079274c381ed817)
 - 07/01/2025 : par Eric Leroy-Terquem (backend, maintenance): [Ajout d'un job cron hebdomadaire pour supprimer les référentiels orphelins](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/476ae61abc91dba3f4e9845102f7dcc22a2d60be)
 - 17/12/2024 : par Eric Leroy-Terquem (feature, frontend): [Ajout de la fonctionnalité d'exportation des dossiers avec les valeurs du référentiel.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/1be06bb45ca9535118392590a6e1595ef24caa52)
 - 18/12/2024 : par Eric Leroy-Terquem (feature, backend): [Ajout de la méthode columns pour afficher les colonnes du référentiel dans le modèle drop_down_list_type_de_champ.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/a0255843e21fd03075cf23e85d57218ce384fc12)
 - 16/12/2024 : par Eric Leroy-Terquem (frontend, feature): [Ajout de phrases pour les modifications du référentiel dans le composant de changements de révision.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/77292c2989564d021644683cac0bd51d9d41348f)
 - 29/01/2025 : par Eric Leroy-Terquem (feature, backend): [Ajout de la gestion du référentiel dans l'affichage des champs de liste déroulante sur la page de demande](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/36b66e2a8516c2a2d3cfcde7ce7301ea3d54f695)
 - 03/12/2024 : par Lisa Durand (feature, backend): [Ajout de validation pour la présence du référentiel dans un dropdown](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/58bea94f2c6416f8add4ac38a5855421e80e2ed4)
 - 10/12/2024 : par Eric Leroy-Terquem (feature, frontend): [Ajout de la possibilité d'anuller un référentiel CSV dans l'éditeur de champs.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/0bd7496f53531521817b76788263e2bf955d2a46)
 - 02/12/2024 : par Eric Leroy-Terquem (feature, frontend): [Cette commit introduit une nouvelle fonctionnalité qui permet aux listes de combobox de fonctionner correctement.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/f7f90a1254a2bcd75471179be45941d6c9dcd68f)
 - 02/12/2024 : par Eric Leroy-Terquem (feature, frontend): [Ajout d'une méthode pour gérer les listes de sélection avec une option 'autre'](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/40e2b035371b60f4b58aee1bc1d8b6656d91563b)
 - 07/01/2025 : par Eric Leroy-Terquem (frontend, feature): [Ajout d'une fonctionnalité pour afficher un formulaire à l'utilisateur dans une liste déroulante personnalisée.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/be03e1e90b2c45452e2e2dd44edc35fb4749941d)
 - 25/11/2024 : par Eric Leroy-Terquem (feature, frontend): [Ajout d'un contrôleur JavaScript pour afficher le type manuel ou référentiel d'une liste.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/0cfe8e2c18c279fd3ccd281ada6a52c9799ffcb0)
 - 10/12/2024 : par Eric Leroy-Terquem (feature, frontend): [Ajout de la possibilité d'importer un référentiel CSV et des modifications esthétiques dans le fichier de styles et le composant Ruby](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/df37c2182abbeb3e628981ff0cfb7aa80d1dbd0c)
 - 03/02/2025 : par Paul Chavard (maintenance, backend): [Ajout d'une tâche pour forcer le rebase de tous les dossiers sans attendre la prochaine publication](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/6ed7546b1ce56df3880eec1fdd88692ba67500b8)
 - 03/02/2025 : par Colin Darie (maintenance, security): [Ignorer le warning de Brakeman concernant la dépendance obsolète Rails 7.0 en raison de son EOL dans 3 mois.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/5059802a6514c450027878dffb5d3e4368e1d2a3)
 - 30/01/2025 : par Colin Darie (maintenance, database): [Désactivation de l'extension postgis_tiger_geocoder et correction du setup des tests dans db/schema.rb](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/2860d7212f91359dc66465f5b02becdbbe027654)
 - 30/01/2025 : par Colin Darie (devops, database): [Mise à jour de la version PostgreSQL utilisée dans les tests CI vers la version 17-3.5.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/789e00b0a8c8921eb9a6a09a4252710671294b2e)
 - 29/01/2025 : par Colin Darie (bugfix, backend): [La modification concerne le comptage des dossiers terminés uniquement ceux visibles par l'administration dans le contrôleur administrateurs. Les tests unitaires associés ont également été mis à jour.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/8b19ef3e3d283da5673f962473320fc27adc0007)
 - 29/01/2025 : par Colin Darie (bugfix, test): [Correction d'un test instable en ajoutant l'option 'exact' pour une correspondance précise dans un lien.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/81dfdccac73435daa10771b705e538e4f261a7d4)
 - 29/01/2025 : par Colin Darie (feature, api): [Cette commit ajoute une fonctionnalité qui ordonne les étiquettes en fonction de leur position.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/afe27f6b3098b9b5212a3054a81201b28f322088)
 - 15/01/2025 : par Colin Darie (feature, api): [Ajout de la fonctionnalité pour lister les labels associables aux dossiers dans l'API.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/25228c292bc3c61b2e53f3a930f46e7d7ebe5c86)
 - 13/01/2025 : par Colin Darie (bugfix, documentation): [Correction d'une faute d'orthographe dans un commentaire de code.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/b1aaf0e530e39be986f68c4cedf0f08df3575d60)
 - 13/01/2025 : par Colin Darie (feature, api, graphql): [Ajout d'une mutation GraphQL pour supprimer un label d'un dossier](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/aed752f0844c3d206ed1bfa74a094aa54f0d6618)
 - 13/01/2025 : par Colin Darie (feature, api): [Ajout d'une mutation GraphQL pour ajouter un label à un dossier](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/613ea1d9d7aa209fc8165c4ac68e5e00287ad9cf)
 - 09/01/2025 : par Colin Darie (feature, api): [Ajout d'une fonctionnalité pour lister les labels associés à un dossier dans le schéma GraphQL.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/a0460774983603d31e20323de4942ba7a8c103da)
 - 29/01/2025 : par Paul Chavard (bugfix, backend): [Correction d'erreur pour éviter la crash si le champ attachement est déjà détruit.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/d03c14b6d3630254536e1b01a943d1a7abb15465)
 - 29/01/2025 : par Colin Darie (bugfix, backend): [Corrige l'affichage du PDF pour éviter la présence du champ 'Date de naissance' si la procédure ne le demande pas.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/c8d26245a09a904ce614c8d61c5caadde603cd7e)
 - 29/01/2025 : par Mathieu Magnin (bugfix, frontend): [Correction des tests de performance en augmentant les limites d'expectation pour le nombre de requêtes SQL.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/1ed9b1ff2b89080f8c507e6d36677a7330479dd4)
 - 29/01/2025 : par Colin Darie (bugfix, backend): [La fonctionnalité permet de trier les dossiers par code NAF après avoir renommé ce dernier (alias).](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/9a86bfd0ee080c3753295fc51bb874b7f3f8e92f)
 - 24/01/2025 : par Mathieu Magnin (maintenance, bugfix): [Cette commit supprime la validation lors du traitement des tâches de maintenance.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/106b4e475605757955b716db9c46ed817e2c58d8)
 - 24/01/2025 : par Mathieu Magnin (maintenance, deploy): [Commit pour exécuter une tâche de maintenance lors du déploiement.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/3a9a8d7461b0d96f73fa661f63991ed07e65554f)
 - 24/01/2025 : par Mathieu Magnin (bugfix, backend): [Corrige une erreur avant la tâche de maintenance](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/d5e32d7b0d3555c68ee6565d0102c3d7e37bee51)
 - 14/01/2025 : par Mathieu Magnin (backend, feature): [Ajout de la fonctionnalité pour afficher les chemins précédents sur la page /path](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/e70e68acb5da1da5fac150ac1b6c47f872a55599)
 - 10/01/2025 : par Mathieu Magnin (bugfix, backend): [Corrige une condition de course entre l'UUID du chemin et le chemin réel et effectue d'autres petites modifications.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/05a079a0c20c0b69081ed4837658e5d0afb43a5e)
 - 29/11/2024 : par Mathieu Magnin (backend, bugfix): [Cette modification assure que claim_path lève une exception si le chemin est invalide, évitant ainsi des erreurs potentielles lors de l'écriture de données.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/ee9f2ec9a609b1b74d4c158f5a670ed1a7db8cd4)
 - 29/11/2024 : par Mathieu Magnin (backend, bugfix): [Correction du code pour éviter l'utilisation de params.permit dans les controllers Ruby.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/dc996c5ba08f1a1effea0b6b60d892496cce31aa)
 - 29/11/2024 : par Mathieu Magnin (bugfix, backend): [Corrige un problème potentiel avec le left join qui pouvait provoquer des erreurs.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/f478fbb7581ba346837f74d36e5cdf8b05f45559)
 - 19/11/2024 : par Mathieu Magnin (tests, backend): [Ajout de tests pour la méthode #destroy dans ProcedurePath](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/fe472cd264ce9fe8111a3aeabadc381c1d413cbf)
 - 18/11/2024 : par Mathieu Magnin (backend, bugfix): [Correction du comportement de find_with_path lors d'une migration en attente](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/9c4ddb377d42b4fa2ed5ffcd06d69bc01d888303)
 - 18/11/2024 : par Mathieu Magnin (tests): [Ajout d'un test pour la publication d'une procédure avec le même chemin qu'une autre procédure administrée par un autre administrateur.](https://github.com/demarches-simplifiees/demarches-simplifiees.fr/commit/ae00f8b81d408afc9253673702e423d035c11b54)

